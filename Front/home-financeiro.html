<!DOCTYPE html>
<html lang="pt-br">

<head>
  <!-- Metadados críticos -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <meta name="color-scheme" content="light dark">
  <meta name="description" content="Gerenciar financeiro">
  <title>Gerenciar Financeiro</title>

  <!-- Manifesto -->
  <link rel="manifest" href="./manifest.json">

  <!-- Fonte -->
  <link rel="preload" href=".\static\fonts\RobotoFlex-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">

  <!-- Favicon -->
  <link rel="icon" href="./static/imagens/logo/logo.png" type="image/png">

  <!-- Pré-carregamento e carregamento não bloqueante do CSS -->
  <link rel="stylesheet" href="./static/css/style.css">

  <script>
    (function () {
      const theme = localStorage.getItem("theme");
      if (theme === "light-mode") {
        document.documentElement.classList.add("light-mode");
      }
    })();
  </script>

  <!-- Chart.js e plugins (Carregamento assíncrono para melhor performance) -->
  <script src="./static/js/chart.umd.js" defer></script>
  <script src="./static/js/chartjs-plugin-datalabels.js" defer></script>
  <script src="./static/js/chartjs-plugin-zoom.js" defer></script>
  <script src="./static/js/charts-base.js" defer></script>
</head>

<body class="body-financeiro-template">
  <header class="header-financeiro">
    <ul class="header-financeiro-template">
      <li class="header-financeiro-back">
        <a href="index.html" class="voltar">
          <img class="back-icon" src="./static/imagens/icones/voltar.svg" alt="Back Icon">
        </a>
      </li>
      <li class="header-financeiro-nav">
        <nav class="header-financeiro-nav">
          <ul class="header-financeiro-nav-template">
            <li class="dashboard indicador"><a href="home-financeiro.html"><img src="./static/imagens/icones/dashboard-select.svg" alt="dashboard Icon">
                <p>Dashboard</p>
              </a></li>
            <li class="contas"><a href="conta-corrente.html"><img src="./static/imagens/icones/contas-corrente.svg" alt="contas Icon">
                <p>Contas</p>
              </a></li>
            <li class="despesas"><a href="despesas.html"><img src="./static/imagens/icones/despesas.svg" alt="despesas Icon">
                <p>Despesas</p>
              </a></li>
          </ul>
        </nav>
      </li>
      <li class="header-financeiro-logout">
        <button id="btnLogout" class="btn-principal" onclick="logout()">Desconectar</button>
      </li>
    </ul>
  </header>

  <main class="main-financeiro main-financeiro-template">
    <section class="main-financeiro-section container-template">
      <div class="container-template-content">
        <div class="area-interna-containerContent-template area-financeiro">
          <div class="area-interna-containerContent-template-content area-interna-containerContent-template-not-header">
            <ul class="lista-vertical-alt">
              <li class="secao-interna-template">
                <ul class="lista-dashboard-cards">

                  <!-- Card: Despesas -->
                  <li class="card-l">
                    <div class="card-financeiro-template">
                      <h3 class="card-financeiro-template-title">Despesas</h3>
                      <div class="card-financeiro-template-list lista-vertical-alt">
                        <div class="dashboard-container">
                          <div class="dashboard-header">
                            <select id="cost-center-select" class="cost-center-select">
                              <option value="campanha">Centro de Custo Campanha</option>
                              <option value="gabinete">Centro de Custo Gabinete</option>
                              <option value="marketing">Centro de Custo Marketing</option>
                            </select>
                            <div id="available-value" class="available-value dashboard-hidden">R$ 0,00</div>
                            <div id="loading-indicator-header" class="loading-indicator dashboard-hidden">Carregando...</div>
                          </div>
                          <div class="dashboard-content">
                            <div id="loading-indicator-content" class="loading-indicator dashboard-hidden">Carregando...</div>
                            <div id="error-message" class="error-message dashboard-hidden"></div>
                            <div class="chart-wrapper">
                              <canvas id="expense-chart"></canvas>
                              <div class="chart-center-text">
                                <div id="center-text" class="chart-available-value">R$ 0,00</div>
                                <div id="center-label">Disponível</div>
                              </div>
                            </div>

                            <div class="accounts-list-container">
                              <h2>Meta por conta</h2>
                              <div class="accounts-list" id="accounts-list">
                                <!-- Os itens da conta serão adicionados dinamicamente aqui -->
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="bar-dragging-dashboard-container tooltip">
                          <!-- Este é o contêiner que você quer que mostre o tooltip -->
                          <span class="tooltiptext">Arraste ou clique para exibir e ocultar o gráfico</span>
                        </div>

                      </div>
                      <a class="card-financeiro-template-link" href="dashboard-despesas.html">ir para despesas</a>
                    </div>
                  </li>

                  <!-- Card: Centro de Custo - Barra de Progresso -->
                  <li class="card-l">
                    <div class="card-financeiro-template">
                      <h3 class="card-financeiro-template-title">Centro de Custo</h3>
                      <div class="card-financeiro-template-list lista-vertical-alt">
                        <div class="chart-dashboard-container">
                          <canvas id="chartCentroCusto"></canvas>
                        </div>
                      </div>
                      <a class="card-financeiro-template-link" href="dashboard-centro-custo.html">Ver detalhes</a>
                    </div>
                  </li>


                  <!-- Card: Contatos -->
                  <li class="card-l">
                    <div class="card-financeiro-template">
                      <h3 class="card-financeiro-template-title">Novos Contatos</h3>
                      <div class="card-financeiro-template-list lista-vertical-alt">
                        <div class="chart-dashboard-container line-chart-container">
                          <canvas id="chartContatos"></canvas>
                        </div>
                      </div>
                      <a class="card-financeiro-template-link" href="dashboard-contatos.html">ir para contatos</a>
                    </div>
                  </li>

                </ul>
              </li>
              <li class="list-last-child"><br></li>
            </ul>
          </div>
        </div>
      </div>
    </section>
  </main>


  <script src="./static/js/config.js" defer></script>
  <script src="./static/js/RegisterSW.js" defer></script>
  <script src="./static/js/AlterarEsquemaDeCores.js" defer></script>
  <script src="./static/js/AtualizarAlturaPagina.js" defer></script>
  <script src="./static/js/ManipularHistorico.js" defer></script>
  <script src="./static/js/dashboard-home-charts.js" defer></script>
  <script src="./static/js/DashboardCentroCustoDespesas.js" defer></script>
</body>

</html>